function timout(){auto=!1,SUGGESTION(timeoutURL,timeoutparameter,timeoutdivHolder,timeouttxt,timeoutvcheck,timeoutvnxt),timeauto=null}function setAutoData(a,b,c,d,e,f,g){$(c).val(b.trim()),"undefined"!=typeof f&&$(f).val(a),setTimeout(function(){focusfn()},20),setTimeout(function(){$(d).addClass("dn"),$(d).html()},20),"#txtjArea"==c&&makeCall(c,a),auto=!1,cleardata()}function cleardata(){}function focusfn(){$(timeoutvnxt).focus()}var SUGGESTObject=null,auto=!0,timeoutURL="",timeoutparameter="",timeoutdivHolder="",timeauto="",autodata="",JSONcache=new Array;Autosuggest=function(a,b,c,d,e,f,g,h,i){return 1!=handleKeys(i,b,c,g,"",h,e)&&void SUGGESTION(d,e,c,b,f,g)},SUGGESTION=function(a,b,c,d,e,f){if(!e&&""==$(d).val())return $(c).html(""),!1;if(null!=SUGGESTObject&&SUGGESTObject.abort(),1==auto)return clearTimeout(timeauto),timeauto=setTimeout("timout()",250),timeoutURL=a,timeoutparameter=b,timeoutdivHolder=c,timeouttxt=d,timeoutvcheck=e,timeoutvnxt=f,!1;if(auto=!0,JSONcache[b]){var g=JSONcache[b];g&&g.results?(autodata=arrangeData(g,d,c,f),$(c).html(autodata),$(c).removeClass("dn")):($(c).html(autodata),$(c).removeClass("dn"))}else SUGGESTObject=$.getJSON(a,b,function(a){a&&a.results?(autodata=arrangeData(a,d,c,f),$(c).html(autodata),$(c).removeClass("dn")):($(c).html(""),$(c).addClass("dn"))})};var handleKeys=function(a,b,c,d,e,f,g){e||(e=$(c+" ul li.autoSuggestRowSelect"));var h=a.which;if(13==h)return $(c).addClass("dn"),$(c+" ul li").each(function(a,g){var h=$(e).text(),i=$(e).attr("id");if("#areaSuggestDiv"==c){var j=e[0].attributes[2].value;if("string"==typeof j){var k=new Function(j);k()}}else setAutoData(i,h,b,c,d,f);return!0}),!0;if(38==h||40==h){var j="-1";return $(c+" ul li").each(function(a,b){1==$(b).hasClass("autoSuggestRowSelect")&&(j=a)}),38==h&&"-1"==j&&(j=$(c+" ul li").length),38==h?0==j?j=$(c+" ul li").length-1:j--:$(c+" ul li").length-1==j?j=0:j++,$(c+" ul li").each(function(a,b){a==j?$(this).addClass("autoSuggestRowSelect"):$(this).removeClass("autoSuggestRowSelect")}),!0}return!1};
