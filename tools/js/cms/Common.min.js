function Common(){var a=this;this.APIWebPath=function(){return APIDOMAIN},this.eSubmit=function(a,b){var c=a.which?a.which:a.keyCode;13===c&&$("#"+b).click()},this.isNumberKey=function(a){var b=a.which?a.which:a.keyCode;return!(b>31&&(b<48||b>57))&&13!=b},this.avoidEnter=function(a){var b=a.which?a.which:a.keyCode;if(13==b)return!1},this.isDecimalKey=function(a){var b=a.which?a.which:a.keyCode;return 46==b&&(b>48||b<57)||13!=b&&!(b>31&&(b<48||b>57))},this.isDecimalNumber=function(a,b){var c=a.which?a.which:a.keyCode;return 46==c&&(c>48||c<57)?2!=b.split(".").length:13!=c&&!(c>31&&(c<48||c>57))},this.onlyAlphabets=function(a){var b=a.which?a.which:a.keyCode;return b<47||b>31&&(b<48||b>57)},this.getLandlineNo=function(){var a="";return $(".txtCCode").each(function(){var b=$(this).val();if(""!==b){var c=$(this).siblings(".lnNo").val();a+=""==a?b+"-"+c:"|~|"+b+"-"+c}}),a},this.number_format=function(a,b,c,d){a=(a+"").replace(/[^0-9+\-Ee.]/g,"");var e=isFinite(+a)?+a:0,f=isFinite(+b)?Math.abs(b):0,g="undefined"==typeof d?",":d,h="undefined"==typeof c?".":c,i="",j=function(a,b){var c=Math.pow(10,b);return""+Math.round(a*c)/c};return i=(f?j(e,f):""+Math.round(e)).split("."),i[0].length>3&&(i[0]=i[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,g)),(i[1]||"").length<f&&(i[1]=i[1]||"",i[1]+=new Array(f-i[1].length+1).join("0")),i.join(h)},this.checkLandline=function(a,b){var c=$("#"+a).val(),d=$("#"+b).val(),e=c+d,f=e.length;return void 0==c||null==c||""==c||"undefined"==typeof c?(this.toast(0,"Landline number is mandatory"),!1):void 0==d||null==d||""==d||"undefined"==typeof d?(this.toast(0,"Landline number is mandatory"),!1):"0"==e.charAt(0)&&11==f||"0"!=e.charAt(0)&&10==f||(this.toast(0,"Please enter correct lanline number."),!1)},a.nCount=parseInt(llCount),a.divNo=0!=llCount?llCount:1;this.addNumber=function(){var b='<div id="altNo_'+a.divNo+'" class="divCon fLeft c666">';b+='<div class="titleDiv fmRoboto fLeft font14">Alternate Number</div>',b+='<div class="mobileCont fLeft">',b+='<input type="text" id="lnCode'+a.divNo+'" autocomplete="false" class="fLeft txtCCode" placeholder=" Code" maxlength="5">',b+='<input type="text" id="landline'+a.divNo+'" autocomplete="false" value="" onkeypress="return common.isNumberKey(event)" maxlength="8" placeholder=" Contact No. " class="txtInput c666 fLeft fmRoboto font14 lnNo">',b+='<div class="fRight delBtn pointer" onclick="common.delNumber('+a.divNo+')"></div></div></div>';var c=!0;return $(".txtCCode").each(function(){var b=a.checkLandline($(this).attr("id"),$(this).siblings(".lnNo").attr("id"));b||(c=!1)}),!!c&&void(a.divNo<=4?($("#altNo").append(b),a.nCount++,a.divNo++):a.toast(0,"You can add only 4 Alternate Landline Numbers"))},this.delNumber=function(b){$("#altNo_"+b).remove(),a.nCount>=0&&a.nCount--},a.nmbCount=parseInt(mNCount),this.addMobileNumber=function(){if(0==a.nmbCount&&a.nmbCount++,this.checkMobile("conMobile"))if($("#altmbNo1").hasClass("dn"))if(""!=$("#altmbNo2_Mobile").val()){var b=this.checkMobile("altmbNo2_Mobile");b&&(a.nmbCount=2,$("#altmbNo1").removeClass("dn"))}else a.nmbCount=1,$("#altmbNo1").removeClass("dn");else if($("#altmbNo2").hasClass("dn")){var b=this.checkMobile("altmbNo1_Mobile");b&&(a.nmbCount=2,$("#altmbNo2").removeClass("dn"))}2==a.nmbCount&&$(".falmb .addBtn").addClass("dn")},this.delmbNumber=function(b){a.nmbCount--,$(".falmb .addBtn").removeClass("dn"),$("#"+b).addClass("dn"),$("#"+b+" input").val("")},this.checkMobile=function(a){var b=$("#"+a).val(),c=/^[789]\d{9}$/,d=b.length;if(1==c.test(b)&&10==d){var e=$("#conMobile").val(),f=$("#altmbNo1_Mobile").val(),g=$("#altmbNo2_Mobile").val();if(""!=f||""!=g){if(e==f)return this.toast(0,"Please enter unique mobile number."),!1;if(f==g)return this.toast(0,"Please enter unique mobile number."),!1;if(e==g)return this.toast(0,"Please enter unique mobile number."),!1}return!0}return this.toast(0,"Please enter correct mobile number."),!1},this.validateEmail=function(a){var b=$("#"+a).val(),c=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return c.test(b)},this.validateUrl=function(a){var b=$("#"+a).val(),c=/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)?/gi,d=new RegExp(c);return!!b.match(d)||(this.toast(0,"Please enter valid URL"),!1)},this.changeTab=function(a){var b=$(a).attr("id");switch($("#"+b).removeClass("op04"),b){case"step1":$("#tabData2,#tabData3").addClass("dn"),$("#tabData1").removeClass("dn"),$("#disStep").css({width:"33%"});break;case"step2":$("#tabData1,#tabData3").addClass("dn"),$("#tabData2").removeClass("dn"),$("#disStep").css({width:"66%"});break;case"step3":$("#tabData1,#tabData2").addClass("dn"),$("#tabData3").removeClass("dn"),$("#disStep").css({width:"100%"})}},this.formatDate=function(a,b){var c=a.split("-"),d=c[0],e=c[2],f=c[1]-1,g=new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),h="";return 1==b?h=e+"/"+f+"/"+d:2==b?h=e+" "+g[f]+", "+d:2==b&&(h=e+" "+g[f]+", "+d),h},this.toast=function(a,b){return common.msg(a,b),$(".close").click(),!1},this.checkLogin=function(){var a=customStorage.readFromStorage("isLoggedIn"),d=(customStorage.readFromStorage("tf_mobile"),customStorage.readFromStorage("username"),customStorage.readFromStorage("is_vendor"));""===d||d!=-1&&"-1"!=d||(d=0),"true"===a&&1==d||"true"===a&&2==d||(window.location.href=DOMAIN)},this.doLogout=function(){customStorage.removeAll(),window.location.href=window.location},this.IND_money_format=function(a){var b="";a=a.toString().split("").reverse();for(var c=a.length,d=0;d<c;d++)(3==d||d>3&&(d-1)%2==0)&&d!==c&&(b+=","),b+=a[d];return b.split("").reverse().join("")},this.caratCheck=function(a){var b=new Array;return b[24]="995",b[18]="750",b[22]="916",b[14]="585",b[a]},this.msg=function(a,b){toastr.remove(),0!=a&&2!=a||(a="danger"),3==a&&(a="info"),4==a&&(a="success"),$("danger"===a?function(){toastr.error(b)}:"info"===a?function(){toastr.info(b)}:"success"===a?function(){toastr.success(b)}:function(){})},toastr.options={closeButton:!0,debug:!1,newestOnTop:!0,progressBar:1,positionClass:"toast-top-right",preventDuplicates:!0,showDuration:"100",hideDuration:"800",timeOut:"1000",extendedTimeOut:"1000",showEasing:"",hideEasing:"",showMethod:"slideDown",hideMethod:"slideUp"},this.decodeMsg=function(a){return decodeURIComponent(a.replace(/\+/g," "))},this.encodeMsg=function(a){return encodeURIComponent(a)},this.uid=function(){var a=webstore.get("uid");return a},this.appendDiv=function(a,b,c){if(""!=c){var d=document.getElementById(a);d.innerHTML=b?c:d.innerHTML+c}},this.replaceURLWithHTMLLinks=function(a){var b=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi;return a.replace(b,"<a href='$1' target='_blank'>$1</a>")},this.getParameterByName=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null==c?"":decodeURIComponent(c[1].replace(/\+/g," "))},this.redirect=function(a){window.location=a},this.capitaliseFirstLetter=function(a){var b=a.value;""!=b&&(a.value=b.charAt(0).toUpperCase()+b.slice(1))},this.capitalize=function(a){var b=a.value.toLowerCase();""!=b&&(a.value=b.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()}))},this.castLowerCase=function(a){document.getElementById(a).value=document.getElementById(a).value.toLowerCase()}}var common=new Common;common.checkLogin();
