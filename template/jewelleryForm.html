<?php include 'vendorHead.html'; ?>
<div class="mainContainer fLeft">
    <?php include 'HeaderVendor.html'; ?>
    <div class="contentCont fLeft">
        <form id='jwAddForm'>
            <div class="wrapper">
                <div class="wrapperMax">
                    <div class="vCommTitle fLeft fmOpenL">Select a jewellery you want to add</div>
                    <div class="formContainer fmOpenR">
                        <div class="jShapesCont resultsPage showHide fmOpenL fLeft">
                            <div class="allShapes resultsPage">
                                <div class="prImgPrev" onclick="movePrImg(true);"></div>
                                <div class="prImgNext" onclick="movePrImg(false);"></div>
                                <center>
                                    <div class="prImageStrip">
                                        <ul class="carousel transition300">
<?php
                                            foreach ($cat['subcat'] as $ky => $val)
                                            {
                                                if (strtolower($val) !== '')
                                                {
                                                    $typeClass = '';
                                                    $typeId = $val['catname'];
                                                    $expd = explode('/', $val['catname']);
                                                    $typeId = $expd[0];
                                                    $typeClass = ucwords(strtolower($expd[0]));
                                                    if ($typeId == $attr['shape'])
                                                    {
                                                        $typeClass .=' shapeSelected';
                                                    }
                                                    echo "<li><div id='" . $typeId . "' class='jshapeComm transition300 ripplelink " . $typeClass . " '>" . $val['catname'] . "</div></li>";
                                                }
                                            }
?>
                                       </ul>
                                    </div>
                                </center>
                            </div>
                        </div>
<?php
                        foreach ($cat['subcat'] as $key => $values)
                        {

                            $expd = explode('/', $values['catname']);
                            $values['catname'] = $expd[0];
                            ?>
                            <div class="divCon  fLeft fmOpenR subCatType <?php
                            if ($attr['shape'] != $values['catname']) {
                                echo 'dn';
                            }
                            ?> " id="<?= strtolower($values['catname']); ?>Type">
                                <div  class="titleDiv txtCap fLeft"><?= ucwords(strtolower($values['catname'])); ?> Type*</div>
                                <div class='radioCont fLeft'>
<?php
                                    foreach ($values['subcats'] as $ky => $val)
                                    {
?>
                                        <div class="checkDiv fLeft">
                                            <input type="checkbox" name='subcat_type' class="filled-in" value="<?= $val['subcatid']; ?>" id="<?php echo $values['catname'] . '_' . $val['subcatid']; ?>" <?= (in_array($val['subcatid'], $pdet['catid'])) ? 'checked="true"' : ''; ?> />
                                            <label for="<?= $values['catname'] . '_' . $val['subcatid']; ?>"><?php echo $val['subcatname']; ?></label>
                                        </div>
<?php
                                    }
?>
                                </div>
                            </div>
<?php
                        }
?>
                        <div class="<?= (!empty($attr['product_id']) == True) ? '' : 'dn'; ?>" id="allcontent">
<?php
                        foreach ($fil as $key => $val)
                        {
                            if ($val['attribute_name'] == 'combination')
                            {
?>
                                <div class="divCon  fLeft jw3">
                                    <div  class="titleDiv txtCap fLeft"><?= $val['attribute_disp_name']; ?>*</div>
                                    <div class='radioCont fLeft'>
<?php
                                    $attrValues = str_ireplace('|~|',', ',explode(',', $val['attribute_values']));
                                    for ($i = 0; $i < count($attrValues); $i++)
                                    {
                                        $attrid = str_replace(' ', '_', $attrValues[$i]);
                                        $attrid = str_replace('&', '_', $attrid);
?>
                                        <div class="checkDiv fLeft">
                                            <input type="radio" name='combination' class="filled-in" value="<?= $attrValues[$i]; ?>" <?= ($attr['combination'] == $attrValues[$i]) ? 'checked' : ''; ?> id="<?= strtolower($attrid); ?>">
                                            <label for="<?= strtolower($attrid); ?>"><?= ucwords(strtolower($attrValues[$i])); ?></label>
                                        </div>
<?php
                                      }
?>
                                      </div>
                                      </div>
<?php
                              }
                            }
?>

                            <!-- <div class="divCon  fLeft jw3" id='typeChoice'>
                                <div  class="titleDiv txtCap fLeft">Is it a Plain Gold Jewellery ?*</div>
                                <div class='radioCont fLeft'>
                                    <div class="checkDiv fLeft" id="askGoldRate" onclick="isPlainJewellery();">
                                        <input type="radio" name='Plain' class="filled-in plain" value="Plain" <?= ($attr['is_plain_jewellery'] == 'Plain') ? 'checked' : ''; ?> id="jewellery_plain" onclick="isPlainJewellery();">
                                        <label for="jewellery_plain">YES</label>
                                    </div>
                                    <div class="checkDiv fLeft" onclick="checkIfNotGold();">
                                        <input type="radio" name='Plain' class="filled-in plain" value="Mix" <?= ($attr['is_plain_jewellery'] == 'Mix' || $attr['is_plain_jewellery'] == '') ? 'checked' : ''; ?> id="jewellery_mix">
                                        <label for="jewellery_mix">No</label>
                                    </div>
                                </div>
                            </div>  -->
                            <div class="divCon  fLeft jw3" id='certiicates'>
                                <div  class="titleDiv txtCap fLeft">Certficate*</div>
                                <div class='radioCont fLeft'>
                                    <div class="checkDiv fLeft">
                                        <input type="radio" name='Certficate' class="filled-in" value="SGL" <?= ($attr['certified'] == 'SGL') ? 'checked' : ''; ?> id="Certficate_SGL">
                                        <label for="Certficate_SGL">SGL</label>
                                    </div>
                                    <div class="checkDiv fLeft">
                                        <input type="radio" name='Certficate' class="filled-in" value="DGLA" <?= ($attr['certified'] == 'DGLA') ? 'checked' : ''; ?> id="Certficate_DGLA">
                                        <label for="Certficate_DGLA">DGLA</label>
                                    </div>
                                    <div class="checkDiv fLeft">
                                        <input type="radio" name='Certficate' class="filled-in" value="EGL" <?= ($attr['certified'] == 'EGL') ? 'checked' : ''; ?> id="Certficate_EGL">
                                        <label for="Certficate_EGL">EGL</label>
                                    </div>
                                    <div class="checkDiv fLeft">
                                        <input type="radio" name='Certficate' class="filled-in" value="IGI" <?= ($attr['certified'] == 'IGI') ? 'checked' : ''; ?> id="Certficate_IGI">
                                        <label for="Certficate_IGI">IGI</label>
                                    </div>
                                    <div class="checkDiv fLeft">
                                        <input type="radio" name='Certficate' class="filled-in" value="BIS" <?= ($attr['certified'] == 'BIS') ? 'checked' : ''; ?> id="Certficate_BIS">
                                        <label for="Certficate_BIS">BIS</label>
                                    </div>
                                    <div class="checkDiv fLeft noneDiv <?php echo ($attr['certified'] == 'None') ? '' : 'dn';?>">
                                        <input type="radio" name="Certficate" class="filled-in" value="None" <?= ($attr['certified'] == 'None') ? 'checked' : ''; ?> id="Certficate_None">
                                        <label for="Certficate_None">NONE</label>
                                    </div>

                                      <div class="checkDiv fLeft otherDiv">
                                        <input type="radio" name='Certficate' class="filled-in" id="Certficate_other" value="Other"  <?= (($attr['certified'] !== 'IGI') && ($attr['certified'] !== 'SGL') && ($attr['certified'] !== 'DGLA') && ($attr['certified'] !== 'EGL') && ($attr['certified'] !== 'BIS') && ($attr['certified'] !== 'None') && (!empty($attr['certified']))) ? 'checked' : ''; ?>>
                                        <label for="Certficate_other">Other</label>
                                    </div>
                                    <div id='othCert' class="otherBox fLeft <?= (($attr['certified'] !== 'IGI') && ($attr['certified'] !== 'SGL') && ($attr['certified'] !== 'DGLA') && ($attr['certified'] !== 'EGL') && ($attr['certified'] !== 'BIS') && ($attr['certified'] !== 'None') && (!empty($attr['certified']))) ? '' : 'dn'; ?>">
                                        <input name="other_cerificate" autocomplete="false" id="other_cerificate" type="text" placeholder="AGS,CIBJO, etc." value="<?= $attr['other_certificate']; ?>" class="othTxtinp fLeft fmOpenR font14 c666">
                                    </div>
                                </div>
                            </div>
                            <div class="divCon fLeft jw3 certUrl <?php echo ($attr['certified'] !== 'None') ? '' : 'dn';?>">
                                <div  class="titleDiv txtCap fLeft">Upload Certificate *</div>
                                <div class='radioCont fLeft'>
                                    <input name="certFile" autocomplete="false" id="certfile" type="file" placeholder="Upload pdf of ceritificate" onchange="uploadCert(this.value);" accept=".pdf,.jpeg,.jpg" class="submitBtn fmOpenR ripplelink poR fRight dn">
                                    <label for="certfile" class="addPrdBtn fLeft poR ripplelink ">Upload Certificate</label><span id="filePath" class ="<?=($certificate_url) ? '' : 'dn';?> fLeft padRight" style="line-height:35px; padding-left: 10px" ><?=$certificate_url;?></span>
                                    <img src="" id="uploadurl">
                                </div>
                            </div>


                            <div class="divCon  fLeft jw3 metals">
                                <div  class="titleDiv txtCap fLeft">Metal*</div>
                                <div class='radioCont fLeft'>
                                    <div class="checkDiv fLeft">
                                        <input type="radio" name='metal' class="filled-in" value="Gold" <?= ($attr['metal'] == 'Gold') ? 'checked' : ''; ?> id="gold">
                                        <label for="gold">Gold</label>
                                    </div>
                                    <div class="checkDiv fLeft">
                                        <input type="radio" name='metal' class="filled-in" value="Silver" <?= ($attr['metal'] == 'Silver') ? 'checked' : ''; ?> id="silver">
                                        <label for="silver">Silver</label>
                                    </div>
                                    <div class="checkDiv fLeft">
                                        <input type="radio" name='metal' class="filled-in" value="Platinum" <?= ($attr['metal'] == 'Platinum') ? 'checked' : ''; ?> id="platinum">
                                        <label for="platinum">Platinum</label>
                                    </div>
                                </div>
                            </div>
                            <div class="divCon  fLeft jw3 gtype dn">
                            <div class="titleDiv txtCap fLeft">Gold Type*</div>
                                <div class="radioCont fLeft">
                                    <div class="checkDiv fLeft">
                                        <input type="radio" name="gold_type" class="filled-in" value="White Gold" id="white_gold">
                                        <label for="white_gold">White Gold</label>
                                    </div>
                                    <div class="checkDiv fLeft">
                                        <input type="radio" name="gold_type" class="filled-in" value="Yellow Gold" id="yellow_gold">
                                        <label for="yellow_gold">Yellow Gold</label>
                                    </div>
                                    <div class="checkDiv fLeft">
                                        <input type="radio" name="gold_type" class="filled-in" value="Pink Gold" id="pink_gold">
                                        <label for="pink_gold">Pink Gold</label>
                                    </div>
                                </div>
                            </div>
<?php
                            if (empty($attr['dwt']) || $attr['dwt'] == '0')
                            {
                                $attr['dwt'] = '';
                            }
                            if (empty($attr['nofd']) || $attr['dwt'] == '0')
                            {
                                $attr['nofd'] = '';
                            }
?>
                            <div class="vCommTitle fLeft fmOpenL polkiProp dn" style="font-size:25px">Please fill the Polki details</div>

                            <div class="PolkiShapeCont polkiProp dn">
                              <div class="divCon fLeft dAuto polkiProp">
                                  <div  class="titleDiv txtCap fLeft">Polki Color*</div>
                                  <div class='radioCont fLeft'>
                                      <div class="checkDiv fLeft">
                                          <input type="radio" name='polki_color' class="filled-in" value="D" <?= ($attr['polki_color'] == 'D') ? 'checked' : ''; ?> id="polki_color_D">
                                          <label for="polki_color_D">D</label>
                                      </div>
                                      <div class="checkDiv fLeft">
                                          <input type="radio" name='polki_color' class="filled-in" value="E" <?= ($attr['polki_color'] == 'E') ? 'checked' : ''; ?> id="polki_color_E">
                                          <label for="polki_color_E">E</label>
                                      </div>
                                      <div class="checkDiv fLeft">
                                          <input type="radio" name='polki_color' class="filled-in" value="F" <?= ($attr['polki_color'] == 'F') ? 'checked' : ''; ?> id="polki_color_F">
                                          <label for="polki_color_F">F</label>
                                      </div>
                                      <div class="checkDiv fLeft">
                                          <input type="radio" name='polki_color' class="filled-in" value="G" <?= ($attr['polki_color'] == 'G') ? 'checked' : ''; ?> id="polki_color_G">
                                          <label for="polki_color_G">G</label>
                                      </div>
                                      <div class="checkDiv fLeft">
                                          <input type="radio" name='polki_color' class="filled-in" value="H" <?= ($attr['polki_color'] == 'H') ? 'checked' : ''; ?> id="polki_color_H">
                                          <label for="polki_color_H">H</label>
                                      </div>
                                      <div class="checkDiv fLeft">
                                          <input type="radio" name='polki_color' class="filled-in" value="I" <?= ($attr['polki_color'] == 'I') ? 'checked' : ''; ?> id="polki_color_I">
                                          <label for="polki_color_I">I</label>
                                      </div>
                                      <div class="checkDiv fLeft">
                                          <input type="radio" name='polki_color' class="filled-in" value="J" <?= ($attr['polki_color'] == 'J') ? 'checked' : ''; ?> id="polki_color_J">
                                          <label for="polki_color_J">J</label>
                                      </div>
                                      <div class="checkDiv fLeft">
                                          <input type="radio" name='polki_color' class="filled-in" value="K" <?= ($attr['polki_color'] == 'K') ? 'checked' : ''; ?> id="polki_color_K">
                                          <label for="polki_color_K">K</label>
                                      </div>
                                      <div class="checkDiv fLeft">
                                          <input type="radio" name='polki_color' class="filled-in" value="L" <?= ($attr['polki_color'] == 'L') ? 'checked' : ''; ?> id="polki_color_L">
                                          <label for="polki_color_L">L</label>
                                      </div>
                                      <div class="checkDiv fLeft">
                                          <input type="radio" name='polki_color' class="filled-in" value="M" <?= ($attr['polki_color'] == 'M') ? 'checked' : ''; ?> id="polki_color_M">
                                          <label for="polki_color_M">M</label>
                                      </div>
                                      <div class="checkDiv fLeft">
                                          <input type="radio" name='polki_color' class="filled-in" value="N" <?= ($attr['polki_color'] == 'N') ? 'checked' : ''; ?> id="polki_color_N">
                                          <label for="polki_color_N">N</label>
                                      </div>
                                      <div class="checkDiv fLeft">
                                          <input type="radio" name='polki_color' class="filled-in" value="O" <?= ($attr['polki_color'] == 'O') ? 'checked' : ''; ?> id="polki_color_O">
                                          <label for="polki_color_O">O</label>
                                      </div>
                                  </div>
                              </div>

                              <div class="divCon  fLeft jw3 polkiProp">
                                  <div  class="titleDiv txtCap fLeft">Polki Quality*</div>
                                  <div class='radioCont fLeft'>
                                      <div class="checkDiv fLeft">
                                          <input type="radio" name='polki_clarity' class="filled-in" value="IF" <?= ($attr['polki_clarity'] == 'IF') ? 'checked' : ''; ?> id="polki_clarity_IF">
                                          <label for="polki_clarity_IF">IF</label>
                                      </div>
                                      <div class="checkDiv fLeft">
                                          <input type="radio" name='polki_clarity' class="filled-in" value="VVS1" <?= ($attr['polki_clarity'] == 'VVS1') ? 'checked' : ''; ?> id="polki_clarity_VVS1">
                                          <label for="polki_clarity_VVS1">VVS1</label>
                                      </div>
                                      <div class="checkDiv fLeft">
                                          <input type="radio" name='polki_clarity' class="filled-in" value="VVS2" <?= ($attr['polki_clarity'] == 'VVS2') ? 'checked' : ''; ?> id="polki_clarity_VVS2">
                                          <label for="polki_clarity_VVS2">VVS2</label>
                                      </div>
                                      <div class="checkDiv fLeft">
                                          <input type="radio" name='polki_clarity' class="filled-in" value="VS1" <?= ($attr['polki_clarity'] == 'VS1') ? 'checked' : ''; ?> id="polki_clarity_VS1">
                                          <label for="polki_clarity_VS1">VS1</label>
                                      </div>
                                      <div class="checkDiv fLeft">
                                          <input type="radio" name='polki_clarity' class="filled-in" value="VS2" <?= ($attr['polki_clarity'] == 'VS2') ? 'checked' : ''; ?> id="polki_clarity_VS2">
                                          <label for="polki_clarity_VS2">VS2</label>
                                      </div>
                                      <div class="checkDiv fLeft">
                                          <input type="radio" name='polki_clarity' class="filled-in" value="SI1" <?= ($attr['polki_clarity'] == 'SI1') ? 'checked' : ''; ?> id="polki_clarity_SI1">
                                          <label for="polki_clarity_SI1">SI1</label>
                                      </div>
                                      <div class="checkDiv fLeft">
                                          <input type="radio" name='polki_clarity' class="filled-in" value="SI2" <?= ($attr['polki_clarity'] == 'SI2') ? 'checked' : ''; ?> id="polki_clarity_SI2">
                                          <label for="polki_clarity_SI2">SI2</label>
                                      </div>
                                      <div class="checkDiv fLeft">
                                          <input type="radio" name='polki_clarity' class="filled-in" value="I1" <?= ($attr['polki_clarity'] == 'I1') ? 'checked' : ''; ?> id="polki_clarity_I1">
                                          <label for="polki_clarity_I1">I1</label>
                                      </div>
                                  </div>
                              </div>

                              <div class="divCon2 fLeft polkiProp">
                                  <div  class="titleDiv txtCap fLeft">Polki Weight (in CTS)*</div>
                                  <input name="polki_weight" id="polki_weight" type="text" autocomplete="false" placeholder=" eg. 1.25" maxlength="8" onkeypress="return common.isDecimalNumber(event, this.value);" value="<?= $attr['polki_weight']; ?>" class="txtInput fLeft fmOpenR font14 c666 weightCal">
                              </div>

                              <div class="divCon2 fLeft polkiProp">
                                  <div  class="titleDiv txtCap fLeft">No. Of Polkis*</div>
                                  <input name="polkino" id="polkino" type="text" placeholder=" eg. 10" autocomplete="false" value="<?= $attr['polkino']; ?>" onkeypress="common.isNumberKey(event);" class="txtInput fLeft fmOpenR font14 c666 weightCal">
                              </div>

                              <div class="divCon2 fLeft polkiProp">
                                  <div  class="titleDiv txtCap fLeft">Polki Price / Carat*</div>
                                  <input name="polki_price_per_carat" id="polki_price_per_carat" type="text" autocomplete="false" placeholder=" eg. 1.25" maxlength="8" onkeypress="return common.isDecimalNumber(event, this.value);" value="<?= $attr['polki_price_per_carat']; ?>" class="weightCal txtInput fLeft fmOpenR font14 c666">
                              </div>

                              <div class="divCon2 fLeft polkiProp">
                                  <div  class="titleDiv txtCap fLeft">Value Of Polki*</div>
                                  <input name="polki_value" id="polki_value" type="text" placeholder=" eg. 10" autocomplete="false" value="<?= $attr['polki_value']; ?>" onkeypress="common.isNumberKey(event);" class="txtInput fLeft fmOpenR font14 c666">
                              </div>

                              <div class="submitBtn fmOpenR ripplelink poR fRight addMore inPolkiAddMore" id="addDiamondType" onclick="addShapeType()">Add Diamond Type</div>
<!-- Polki segment if clicked on polki set category -->

                            </div>

                            <div class="vCommTitle fLeft fmOpenL dShapeTitle" style="font-size:25px"><span>Select the diamond you want to add in product</span><span class="deleteElements dn closeBlock fRight transition300" onclick="removeThis()"></span></div>
                            <div id="diamondShapeCont">
<?php
                                $attr['diamond_shape'] = explode('|!|', $attr['diamond_shape']);
                                $attr['color'] = explode('|!|', $attr['color']);
                                $attr['clarity'] = explode('|!|', $attr['clarity']);
                                for ($curIndex = 0; $curIndex < count($attr['diamond_shape']); $curIndex++)
                                {
                                    $curDiv = $curIndex + 1;
?>
                                    <div id="diamondShapeDiv">
                                        <div class="divCon fLeft dAuto" id="diamondShapeCont_<?php echo $curDiv; ?>">
                                            <?php
                                            if (empty($attr['diamond_shape'])) {
                                                $attr['color'] = $attr['clarity'] = $attr['dwt'] = $attr['nofd'] = '';
                                            }

                                            if (empty($attr['gemstone_type'][$curIndex])) {
                                                $attr['gemstone_color'][$curIndex] = $attr['gemwt'] = $attr['num_gemstones'] = '';
                                            }

                                            foreach ($shapeAttrs['attributes'] as $key => $value) {
                                                if (strtolower($value['attribute_name']) == 'shape') {

                                                    //echo $value['attribute_values'];die;

                                                    ?>
                                                    <div class='shapesCont'>
                                                        <div class="wrapperMax">
                                                            <div class="allShapes">
                                                                <center>
                                                                    <?php
                                                                    $filval = explode(",", $value['attribute_values']);
                                                                    foreach ($filval as $ky => $vl) {
                                                                        ?>
                                                                        <div id="<?php echo $vl; ?>_<?php echo $curDiv; ?>" class="shapeComm transition300 ripplelink <?php echo $vl; ?> <?php echo (strtolower($attr['diamond_shape'][$curIndex]) == strtolower($vl)) ? 'shapeSelected' : ''; ?>" onclick="checkDiamondShape(this,<?php echo $curDiv; ?>);">
                                                                        </div>
                                                                        <?php
                                                                    }
                                                                    ?>
                                                                </center>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <?php
                                                }
                                            }
                                            ?>
                                        </div>

                                        <div class="divCon fLeft dAuto <?php echo ($attr['diamond_shape'][$curIndex]) ? '' : 'dn'; ?> diamondProp diamondProp_<?php echo $curDiv; ?>">
                                            <div  class="titleDiv txtCap fLeft">Diamond Color*</div>
                                            <div class='radioCont fLeft'>
                                                <div class="checkDiv fLeft">
                                                    <input type="radio" name='color_<?php echo $curDiv; ?>' class="filled-in" value="D" <?= ($attr['color'][$curIndex] == 'D') ? 'checked' : ''; ?> id="color_D_<?php echo $curDiv; ?>">
                                                    <label for="color_D_<?php echo $curDiv; ?>"> D</label>
                                                </div>
                                                <div class="checkDiv fLeft">
                                                    <input type="radio" name='color_<?php echo $curDiv; ?>' class="filled-in" value="E" <?= ($attr['color'][$curIndex] == 'E') ? 'checked' : ''; ?> id="color_E_<?php echo $curDiv; ?>">
                                                    <label for="color_E_<?php echo $curDiv; ?>">E</label>
                                                </div>
                                                <div class="checkDiv fLeft">
                                                    <input type="radio" name='color_<?php echo $curDiv; ?>' class="filled-in" value="F" <?= ($attr['color'][$curIndex] == 'F') ? 'checked' : ''; ?> id="color_F_<?php echo $curDiv; ?>">
                                                    <label for="color_F_<?php echo $curDiv; ?>">F</label>
                                                </div>
                                                <div class="checkDiv fLeft">
                                                    <input type="radio" name='color_<?php echo $curDiv; ?>' class="filled-in" value="G" <?= ($attr['color'][$curIndex] == 'G') ? 'checked' : ''; ?> id="color_G_<?php echo $curDiv; ?>">
                                                    <label for="color_G_<?php echo $curDiv; ?>">G</label>
                                                </div>
                                                <div class="checkDiv fLeft">
                                                    <input type="radio" name='color_<?php echo $curDiv; ?>' class="filled-in" value="H" <?= ($attr['color'][$curIndex] == 'H') ? 'checked' : ''; ?> id="color_H_<?php echo $curDiv; ?>">
                                                    <label for="color_H_<?php echo $curDiv; ?>">H</label>
                                                </div>
                                                <div class="checkDiv fLeft">
                                                    <input type="radio" name='color_<?php echo $curDiv; ?>' class="filled-in" value="I" <?= ($attr['color'][$curIndex] == 'I') ? 'checked' : ''; ?> id="color_I_<?php echo $curDiv; ?>">
                                                    <label for="color_I_<?php echo $curDiv; ?>">I</label>
                                                </div>
                                                <div class="checkDiv fLeft">
                                                    <input type="radio" name='color_<?php echo $curDiv; ?>' class="filled-in" value="J" <?= ($attr['color'][$curIndex] == 'J') ? 'checked' : ''; ?> id="color_J_<?php echo $curDiv; ?>">
                                                    <label for="color_J_<?php echo $curDiv; ?>">J</label>
                                                </div>
                                                <div class="checkDiv fLeft">
                                                    <input type="radio" name='color_<?php echo $curDiv; ?>' class="filled-in" value="K" <?= ($attr['color'][$curIndex] == 'K') ? 'checked' : ''; ?> id="color_K_<?php echo $curDiv; ?>">
                                                    <label for="color_K_<?php echo $curDiv; ?>">K</label>
                                                </div>
                                                <div class="checkDiv fLeft">
                                                    <input type="radio" name='color_<?php echo $curDiv; ?>' class="filled-in" value="L" <?= ($attr['color'][$curIndex] == 'L') ? 'checked' : ''; ?> id="color_L_<?php echo $curDiv; ?>">
                                                    <label for="color_L_<?php echo $curDiv; ?>">L</label>
                                                </div>
                                                <div class="checkDiv fLeft">
                                                    <input type="radio" name='color_<?php echo $curDiv; ?>' class="filled-in" value="M" <?= ($attr['color'][$curIndex] == 'M') ? 'checked' : ''; ?> id="color_M_<?php echo $curDiv; ?>">
                                                    <label for="color_M_<?php echo $curDiv; ?>">M</label>
                                                </div>
                                                <div class="checkDiv fLeft">
                                                    <input type="radio" name='color_<?php echo $curDiv; ?>' class="filled-in" value="N" <?= ($attr['color'][$curIndex] == 'N') ? 'checked' : ''; ?> id="color_N_<?php echo $curDiv; ?>">
                                                    <label for="color_N_<?php echo $curDiv; ?>">N</label>
                                                </div>
                                                <div class="checkDiv fLeft">
                                                    <input type="radio" name='color_<?php echo $curDiv; ?>' class="filled-in" value="O" <?= ($attr['color'][$curIndex] == 'O') ? 'checked' : ''; ?> id="color_O_<?php echo $curDiv; ?>">
                                                    <label for="color_O_<?php echo $curDiv; ?>">O</label>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="divCon  fLeft jw3 <?php echo ($attr['diamond_shape'][$curIndex]) ? '' : 'dn'; ?> diamondProp diamondProp_<?php echo $curDiv; ?>">
                                            <div  class="titleDiv txtCap fLeft">Diamond Quality*</div>
                                            <div class='radioCont fLeft'>
                                                <div class="checkDiv fLeft">
                                                    <input type="radio" name='clarity_<?php echo $curDiv; ?>' class="filled-in" value="IF" <?= ($attr['clarity'][$curIndex] == 'IF') ? 'checked' : ''; ?> id="clarity_IF_<?php echo $curDiv; ?>">
                                                    <label for="clarity_IF_<?php echo $curDiv; ?>">IF</label>
                                                </div>
                                                <div class="checkDiv fLeft">
                                                    <input type="radio" name='clarity_<?php echo $curDiv; ?>' class="filled-in" value="VVS1" <?= ($attr['clarity'][$curIndex] == 'VVS1') ? 'checked' : ''; ?> id="clarity_VVS1_<?php echo $curDiv; ?>">
                                                    <label for="clarity_VVS1_<?php echo $curDiv; ?>">VVS1</label>
                                                </div>
                                                <div class="checkDiv fLeft">
                                                    <input type="radio" name='clarity_<?php echo $curDiv; ?>' class="filled-in" value="VVS2" <?= ($attr['clarity'][$curIndex] == 'VVS2') ? 'checked' : ''; ?> id="clarity_VVS2_<?php echo $curDiv; ?>">
                                                    <label for="clarity_VVS2_<?php echo $curDiv; ?>">VVS2</label>
                                                </div>
                                                <div class="checkDiv fLeft">
                                                    <input type="radio" name='clarity_<?php echo $curDiv; ?>' class="filled-in" value="VS1" <?= ($attr['clarity'][$curIndex] == 'VS1') ? 'checked' : ''; ?> id="clarity_VS1_<?php echo $curDiv; ?>">
                                                    <label for="clarity_VS1_<?php echo $curDiv; ?>">VS1</label>
                                                </div>
                                                <div class="checkDiv fLeft">
                                                    <input type="radio" name='clarity_<?php echo $curDiv; ?>' class="filled-in" value="VS2" <?= ($attr['clarity'][$curIndex] == 'VS2') ? 'checked' : ''; ?> id="clarity_VS2_<?php echo $curDiv; ?>">
                                                    <label for="clarity_VS2_<?php echo $curDiv; ?>">VS2</label>
                                                </div>
                                                <div class="checkDiv fLeft">
                                                    <input type="radio" name='clarity_<?php echo $curDiv; ?>' class="filled-in" value="SI1" <?= ($attr['clarity'][$curIndex] == 'SI1') ? 'checked' : ''; ?> id="clarity_SI1_<?php echo $curDiv; ?>">
                                                    <label for="clarity_SI1_<?php echo $curDiv; ?>">SI1</label>
                                                </div>
                                                <div class="checkDiv fLeft">
                                                    <input type="radio" name='clarity_<?php echo $curDiv; ?>' class="filled-in" value="SI2" <?= ($attr['clarity'][$curIndex] == 'SI2') ? 'checked' : ''; ?> id="clarity_SI2_<?php echo $curDiv; ?>">
                                                    <label for="clarity_SI2_<?php echo $curDiv; ?>">SI2</label>
                                                </div>
                                                <div class="checkDiv fLeft">
                                                    <input type="radio" name='clarity_<?php echo $curDiv; ?>' class="filled-in" value="I1" <?= ($attr['clarity'][$curIndex] == 'I1') ? 'checked' : ''; ?> id="clarity_I1_<?php echo $curDiv; ?>">
                                                    <label for="clarity_I1_<?php echo $curDiv; ?>">I1</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                            <?php } ?>
                            </div>
<?php
                            if (!empty($attr['diamond_shape'][0]))
                            {
?>
                                <div class="submitBtn fmOpenR ripplelink poR fRight addMore" id="addDiamondType" onclick="addShapeType()">Add Diamond Type</div>
                                <div style="clear: both;"></div>
<?php
                            }
?> <!--<div onclick="addShapeType()" id="addDiamondType" class="submitBtn fmOpenR ripplelink poR fRight">Add Diamond Type</div><div class="clearFill"></div>-->

                            <div class="divCon2 fLeft <?php echo ($attr['diamond_shape'][0]) ? '' : 'dn'; ?> diamondProp">
                                <div  class="titleDiv txtCap fLeft">Diamond Weight (in CTS)*</div>
                                <input name="diamonds_weight" id="diamondweight" type="text" autocomplete="false" placeholder=" eg. 1.25" maxlength="8" onkeypress="return common.isDecimalNumber(event, this.value);" value="<?= round($attr['dwt'],3); ?>" class="txtInput fLeft fmOpenR font14 c666 weightCal">
                            </div>

                            <div class="divCon2 fLeft <?php echo ($attr['diamond_shape'][0]) ? '' : 'dn'; ?> diamondProp">
                                <div  class="titleDiv txtCap fLeft">No. Of Diamonds*</div>
                                <input name="no_diamonds" id="no_diamonds" type="text" placeholder=" eg. 10" autocomplete="false" value="<?= $attr['nofd']; ?>" onkeypress="common.isNumberKey(event);" class="txtInput fLeft fmOpenR font14 c666 weightCal">
                            </div>

                            <div class="divCon2 fLeft <?php echo ($attr['diamond_shape'][0]) ? '' : 'dn'; ?>  diamondProp">
                                <div  class="titleDiv txtCap fLeft">Diamond Price / Carat*</div>
                                <input name="price_per_carat" id="price_per_carat" type="text" autocomplete="false" placeholder=" eg. 1.25" maxlength="8" onkeypress="return common.isDecimalNumber(event, this.value);" value="<?= round($attr['price_per_carat'],3); ?>" class="weightCal txtInput fLeft fmOpenR font14 c666">
                            </div>

                            <div class="divCon2 fLeft <?php echo ($attr['diamond_shape'][0]) ? '' : 'dn'; ?>  diamondProp">
                                <div  class="titleDiv txtCap fLeft">Value Of Diamonds*</div>
                                <input name="diamondsvalue" id="diamondsvalue" type="text" placeholder=" eg. 10" autocomplete="false" value="<?= round($attr['diamondsvalue'],3); ?>" onkeypress="common.isNumberKey(event);" class="txtInput fLeft fmOpenR font14 c666">
                            </div>

                            <?php
                            /*                             * ************** Diamond Related Fields End  *************** */
                            ?>


                            <?php
                            /*                             * ************** Gemstone Related Fields Start  *************** */

                            if (empty($attr['gemwt'])) {
                                $attr['gemwt'] = '';
                            }

                            $curDiv = 1;
                            ?>

                            <div id="gemsTypeCont">
                                <?php
                                $attr['gemstone_type'] = explode('|!|', $attr['gemstone_type']);
                                $attr['gemstone_color'] = explode('|!|', $attr['gemstone_color']);
                                for ($curIndex = 0; $curIndex < count($attr['gemstone_type']); $curIndex++) {
                                    $curDiv = $curIndex + 1;
                                    ?>
                                    <div id="gemsDiv">
                                        <div class="divCon fLeft" id="gemsTypeCont_<?php echo $curDiv; ?>">
                                            <div class="titleDiv txtCap fLeft">Gemstone Type</div>
                                            <select id="gemstone_type" onchange="changeGemstoneType(this,<?php echo $curDiv; ?>);" class="txtInput fLeft fmOpenR font14 c666">
                                                <option value="">Select Gemstone Type</option>
                                                <?php
                                                $gemsAttrsArr = array();
                                                foreach ($gemsAttrs as $key => $value) {
                                                    $gemsAttrsArr[] = $value['display_name'];
                                                    ?>
                                                    <option value="<?php echo $value['display_name']; ?>" <?php echo (strtolower($attr['gemstone_type'][$curIndex]) == strtolower($value['display_name'])) ? 'selected' : ''; ?>><?php echo $value['display_name']; ?></option>
                                                    <?php
                                                }
                                                ?>
                                                <option value="other" <?php echo (!empty($attr['gemstone_type'][$curIndex]) && !in_array($attr['gemstone_type'][$curIndex], $gemsAttrsArr)) ? 'selected' : ''; ?>>Others</option>
                                            </select>
                                        </div>

                                        <div class="divCon fLeft <?php echo (!empty($attr['gemstone_type'][$curIndex]) && !in_array($attr['gemstone_type'][$curIndex], $gemsAttrsArr)) ? '' : 'dn'; ?> otherGemstoneProp_<?php echo $curDiv; ?>">
                                            <div class="titleDiv txtCap fLeft">Other Gemstone Type</div>
                                            <input name="other_gem_type" type="text" id="other_gem_type" autocomplete="false" placeholder=" eg. ABC" value="<?php echo (!empty($attr['gemstone_type'][$curIndex]) && !in_array($attr['gemstone_type'][$curIndex], $gemsAttrsArr)) ? $attr['gemstone_type'][$curIndex] : ''; ?>" class="txtInput fLeft fmOpenR font14 c666">
                                        </div>

                                        <?php
                                        if (strtolower($catres[3]['attr_name']) == 'gemstone_color') {
                                            ?>
                                            <div class="divCon fLeft jw3 <?php echo ($attr['gemstone_type'][$curIndex]) ? '' : 'dn'; ?> gemstoneProp_<?php echo $curDiv; ?>">
                                                <div  class="titleDiv txtCap fLeft"><?= $catres[3]['attr_display_name'] ?>*</div>
                                                <div class='radioCont fLeft'>
                                                    <?php
                                                    $gemvalues = explode(',', strtolower($catres[3]['attr_values']));
                                                    foreach ($gemvalues as $key => $values) {
                                                        ?>

                                                        <div class="checkDiv fLeft">
                                                            <input type="radio" name='gemstone_color_<?php echo $curDiv; ?>' class="filled-in" value="<?= $gemvalues[$key]; ?>" <?php echo ($gemvalues[$key] == $attr['gemstone_color'][$curIndex]) ? 'checked' : ''; ?> id="<?= $gemvalues[$key] . '_' . $curDiv; ?>">
                                                            <label for="<?= $gemvalues[$key] . '_' . $curDiv; ?>"><?= ucwords($gemvalues[$key]); ?></label>
                                                        </div>
                                                        <?php
                                                    }
                                                    ?>
                                                </div>
                                            </div>
                                            <?php
                                        }
                                        ?>
                                    </div>
                            <?php } ?>
                            </div>
                            <div class="clearFill"></div>
<?php
                            if (!empty($attr['gemstone_type'][0]))
                            {
?>
                                <div class="submitBtn fmOpenR ripplelink poR fRight addMore" id="addGemsType" onclick="addGemsType()">Add Gemstone Type</div>
                                <div style="clear: both;"></div>
<?php
                            }
                            $attr['gemwt'] = (!empty($attr['gemwt']) && strval($attr['gemwt']) !== '0.00' && strval($attr['gemwt']) !== '0.000') ? $attr['gemwt'] : '';
?>
                            <div class="divCon2 fLeft <?php echo ($attr['gemstone_type'][0]) ? '' : 'dn'; ?> gemstoneProp">
                                <div  class="titleDiv txtCap fLeft">Gemstone Weight (in CTS)*</div>
                                <input name="gemstone_weight" type="text" id="gemweight" autocomplete="false" placeholder=" eg. 1.25" maxlength="8" onkeypress="return common.isDecimalNumber(event, this.value);" value="<?= round($attr['gemwt'],3); ?>" class="txtInput fLeft fmOpenR font14 c666 weightCal">
                            </div>

<?php
                                    $attr['num_gemstones'] = (!empty($attr['num_gemstones']) && strval($attr['num_gemstones']) !== '0.00' && strval($attr['num_gemstones']) !== '0.000') ? $attr['num_gemstones'] : '';
?>
                            <div class="divCon2 fLeft <?php echo ($attr['gemstone_type'][0]) ? '' : 'dn'; ?> gemstoneProp">
                                <div  class="titleDiv txtCap fLeft">No. of Gemstones*</div>
                                <input name="num_gemstones" type="text" id="num_gemstones" autocomplete="false" placeholder=" eg. 10" maxlength="3" onkeypress="return common.isNumberKey(event);" value="<?= $attr['num_gemstones']; ?>" class="txtInput fLeft fmOpenR font14 c666 weightCal">
                            </div>

                            <div class="divCon2 fLeft <?php echo ($attr['gemstone_type'][0]) ? '' : 'dn'; ?>  gemstoneProp">
                                <div  class="titleDiv txtCap fLeft">Gemstone Price / Carat*</div>
                                <input name="gprice_per_carat" id="gprice_per_carat" type="text" autocomplete="false" placeholder=" eg. 1.25" maxlength="8" onkeypress="return common.isDecimalNumber(event, this.value);" value="<?=round($attr['gprice_per_carat'],3); ?>" class="weightCal txtInput fLeft fmOpenR font14 c666">
                            </div>

                            <div class="divCon2 fLeft <?php echo ($attr['gemstone_type'][0]) ? '' : 'dn'; ?>  gemstoneProp">
                                <div  class="titleDiv txtCap fLeft">Value Of Gemstones*</div>
                                <input name="" id="gemstonevalue" type="text" placeholder=" eg. 10" autocomplete="false" value="<?= round($attr['gemstonevalue'],3); ?>" onkeypress="common.isNumberKey(event);" class="txtInput fLeft fmOpenR font14 c666">
                            </div>

                            <div style="clear: both;"></div>

                            <div class="divCon2  fLeft">
                                <div  class="titleDiv txtCap fLeft">Other Material (in Grams)</div>
                                <input id="othermaterial" name="other_material" type="text" placeholder="Dori Weight, Alloy Weight, etc " autocomplete="false" value="<?= round($attr['othermaterial'],3); ?>" onkeypress="return common.isDecimalKey(event);" class="txtInput fLeft fmOpenR font14 c666 weightCal">
                            </div>

                            <div class="divCon2  fLeft">
                                <div  class="titleDiv txtCap fLeft">Labour Charge</div>
                                <input id="labour_charge" name="labour_charge" type="text" placeholder=" eg. 10,20,50" maxlength="8" autocomplete="false" value="<?= round($attr['labour_charge'],3); ?>" onkeypress="return common.isDecimalKey(event);" class="txtInput fLeft fmOpenR font14 c666">
                            </div>
<?php
                            foreach ($cat['subcat'] as $key => $values)
                            {
                                if (strtolower($values['attr'][$key]['attr_name']) == 'gold_purity')
                                {
                                    $goldpurity = $values['attr'][$key]['attr_name'];
?>
                                    <div class="divCon2  fLeft">
                                        <div  class="titleDiv txtCap fLeft">Purity(in KT)*</div>
                                        <input name="<?php echo strtolower($goldpurity); ?>" id="goldpurity" type="text" autocomplete="false" maxlength="3" onkeypress="return common.isNumberKey(event);" value="<?= round($attr['gold_purity'],3); ?>" placeholder="eg. 18" onkeypress="common.isNumberKey(event);" class="txtInput fLeft fmOpenR font14 c666" onfocusout="calculateJPrice();">
                                    </div>
<?php
                                }
                            }
?>
<!--                            <div class="divCon2  fLeft">
                                <div  class="titleDiv txtCap fLeft">Gold Weight (in Grams)*</div>
                                <input id="goldweight" name="gold_weight" type="text" placeholder=" eg. 10,20,50" maxlength="8" autocomplete="false" value="<?= $attr['gold_weight']; ?>" onkeypress="return common.isDecimalKey(event);" class="txtInput fLeft fmOpenR font14 c666 weightCal" onfocusout="calculateJPrice();">
                            </div>-->
                            <div class="divCon2  fLeft">
                                <div  class="titleDiv txtCap fLeft">Design Number*</div>
                                <input name="barcode" id="barcode" type="text" placeholder=" eg. ABCD12" maxlength="20" autocomplete="false" class="txtInput fLeft fmOpenR font14 c666"  value="<?= $pdet['product_barcode']; ?>" onfocusout="calculateJPrice();">
                            </div>
                            <div class="divCon2  fLeft">
                                <div  class="titleDiv txtCap fLeft">Collection Name*</div>
                                <input name="product_brand" id="product_brand" type="text" placeholder=" eg. ABCD12" maxlength="20" autocomplete="false" class="txtInput fLeft fmOpenR font14 c666"  value="<?= $pdet['product_brand']; ?>">
                            </div>
                            <div class="divCon2  fLeft">
                                <div  class="titleDiv txtCap fLeft">Net Weight (in Grams)*</div>
                                <input id="netweight" name="net_weight" type="text" placeholder=" eg. 10,20,50" maxlength="8" autocomplete="false" value="<?= round($attr['gold_weight'],3); ?>" onkeypress="return common.isDecimalKey(event);" class="txtInput fLeft fmOpenR font14 c666" onfocusout="">
                            </div>
                            <div class="divCon2  fLeft">
                                <div  class="titleDiv txtCap fLeft rateValue">Gold Value*</div>
                                <input id="gold_value" name="gold_value" type="text" placeholder=" eg. 10,20,50" maxlength="8" autocomplete="false" value="<?= round($attr['gold_value'],3); ?>" onkeypress="return common.isDecimalKey(event);" class="txtInput fLeft fmOpenR font14 c666" onfocusout="">
                            </div>
                            <div class="divCon2  fLeft">
                                <div  class="titleDiv txtCap fLeft">Gross Weight (in Grams)*</div>
                                <input id="grossweight" name="gross_weight" type="text" readonly="true" placeholder=" eg. 10,20,50" maxlength="8" autocomplete="false" value="<?= round($attr['grossweight'],3); ?>" onkeypress="return common.isDecimalKey(event);" class="txtInput fLeft fmOpenR font14 c666" onfocusout="">
                            </div>
<?php
                            foreach ($cat['subcat'] as $key => $values)
                            {
                                if (strtolower($values['attr'][$key]['attr_name']) == 'price')
                                {
?>
                                    <div class="divCon2  fLeft">
                                        <div  class="titleDiv txtCap fLeft"><?php echo $values['attr'][$key]['attr_display_name']; ?> (in Rs)*</div>
                                        <input name="<?php echo strtolower($values['attr'][$key]['attr_display_name']); ?>" autocomplete="false" id="prdprice" type="text" placeholder="eg. 12000" maxlength="16" onfocusout="return common.isDecimalNumber(event,this.value);" value="<?= round($attr['price'],3); ?>" class="txtInput fLeft fmOpenR font14 c666">
                                    </div>
<?php
                                }
                            }
?>
                            <div class="btnCont fLeft">
                                <center>
                                    <div class="cancelBtn fmOpenR ripplelink poR" onclick="backbtn();">CANCEL</div>
                                    <div class="submitBtn fmOpenR ripplelink poR" onclick="validateJForm()" id="Submitdiv">SUBMIT</div>
<!--                                  <div class="submitBtn fmOpenR ripplelink poR"  id="Submitdiv">SUBMIT</div>-->

                                </center>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
<?php include 'rateForms.html'; ?>
</div>
<?php
function convertJSObj($array) {
    foreach ($array as $key => $value) {
        $c['c'] = $value['display_name'];
        $c['n'] = $value['display_name'];
        $val[] = $c;
    }
    return json_encode($val);
}
?>
<script>
    var shapeTypes = '<?php echo json_encode($filval); ?>';
    var gemsTypes = '<?php echo convertJSObj($gemsAttrs); ?>';
    var gemsValues = '<?php echo json_encode($gemvalues); ?>';
</script>
<script type="text/javascript" src="<?= $jvs['velocity']; ?>"></script>
<script type="text/javascript" src="<?= $jvs['jqryUi']; ?>"></script>
<script type="text/javascript" src="<?= $jvs['vendorLanding']; ?>"></script>
<script type="text/javascript" src="<?= $jvs['cms_jquery_toast']; ?>"></script>
<script type="text/javascript" src="<?= $jvs['pForm']; ?>"></script>
</body>
</html>
